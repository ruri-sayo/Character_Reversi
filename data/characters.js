/**
 * Reversi: Character Duel - Character Definitions (v1.0)
 * 先行後攻・パス・引き分けセリフ追加版
 */
const CHARACTERS = [
    {
        id: "shiina",
        name: "椎奈",
        description: "近所の謎の25歳のお姉さん。昔からの付き合い。",
        icon: "🐋",
        logicType: "dynamic_turn",
        depth: 4,
        randomness: 0,
        parameters: {
            switchTurn: 22,
            early: { mobility: 30, position: 10, discDiff: -5 },
            late: { mobility: 5, position: 20, discDiff: 100 }
        },
        dialogues: {
            start: ["久しぶりっ！ たまには私と遊んでよっ。", "ふふ、手加減なしでいくからねっ？", "負けたほうがジュース奢る？ なんてねっ"],
            thinking: ["んー、そこかぁ。", "ふふっ、お姉さんのこと、甘く見てないっ？", "迷うなぁ……なーんてねっ。", "ここで引く私じゃないよっ？"],
            generic: ["その調子っ！", "あはっ、いい手だねっ。", "ゆっくり考えていいよっ。逃げないからさ。", "ねえ、今度またご飯行こうよっ。"],
            corner: ["はーい、角いただきっ！", "あはっ、ありがとっ！ ここ欲しかったんだ～。", "ふふ、キミって意外と優しいとこあるよねっ。"],
            advantage: ["あれっ？ もう置く場所ないんじゃないっ？", "ほーらほーら、どうするっ？ パスしちゃうっ？", "ふふっ、私の勝ちが見えてきちゃったかなっ！"],
            disadvantage: ["……あれ？ おかしいな。計算狂っちゃったかも。", "うそ、ここから逆転する気？ ……やるじゃん。", "……ちょっと、本気出しすぎじゃない？"],
            win: ["いぇーいっ！ 私の勝ちーっ！", "ふふっ、まだまだお姉さんには勝てないねっ！", "あー楽しかったっ！ やっぱり勝つと気分いいねっ！"],
            lose: ["あはは……負けちゃった。……すごいね、キミは。", "参りましたっ！ ……はぁ。カッコつかないなぁ、私。", "……おめでと。ふふ、悔しいなぁ。"],
            // New Dialogues
            draw: ["あははっ、引き分けだねっ！", "気が合うねぇ、私たち。", "決着はまた今度、かなっ？"],
            player_pass: ["あらら、置く場所ない？ パスだねっ。", "ここは私に譲ってくれるの？ ありがとっ。", "ふふ、お休みかな？"],
            ai_pass: ["うそ……私、置くとこないっ？", "えーっ、パス！？ ほんとにっ？", "うーん……ここは見守るしかないかぁ……。"]
        }
    },
    {
        id: "saki",
        name: "佐紀",
        description: "２歳年上の先輩。直感で生きている。",
        icon: "🐾",
        logicType: "static",
        depth: 1,
        randomness: 50,
        parameters: { mobility: -10, position: 20, discDiff: 80 },
        dialogues: {
            start: ["今日は佐紀ちゃんに勝てるかな～？", "いーどきょうじゃん！", "ハンデなしでいいよ？ 先輩だもん？"],
            thinking: ["あははっ 面白いじゃん！", "んーー、どーこーにーしよっかなー", "えーい、ここでいいやっ！", "直感でバシッといこうよ、直感で！"],
            generic: ["ふふふっ、迷ってる迷ってる。", "面白いじゃん、その手。", "あははっ、性格出るねー。", "そこでいいの～？ 佐紀ちゃんは知らないよ～？"],
            corner: ["カドいただきー！ これで勝ったも同然っしょ！", "いいじゃん いいじゃん、角取るとかやるねぇ。", "あー！ そこ狙ってたのにー！"],
            advantage: ["今日も佐紀ちゃんの勝ちだな、こりゃ。", "♪～ ♬～ ", "もう降参する？ 今なら『参りました先輩！』で許すよ？"],
            disadvantage: ["んー。佐紀ちゃんでも難しいかな～？", "ズルしてないよね？ ねぇ？", "ちょっ、待った！ ……は、ナシ？ 　ケチ！"],
            win: ["あははっ！ 弱ーい！", "また今度挑み給え～。いつでも相手してあげるからさ。", "見たか！ これが年上の貫禄ってやつよ！"],
            lose: ["...", "佐紀ちゃんを負かすとはいい度胸だねぇ……。", "むーーー！ 納得いかない！", "もう一回！ もう一回やるよ！"],
            // New Dialogues
            draw: ["えーっ、引き分け！？", "つまんないのー！ 勝ち負けつけようよー！", "ま、負けてないからいっか！"],
            player_pass: ["はいパス～！ 佐紀ちゃんのターン！", "ん？ 置けないの？ ざんね～ん♪", "パスしちゃうんだ笑　かわいーね"],
            ai_pass: ["えっ、パス！？ 佐紀ちゃんが！？", "ちょっと！ 私の置く場所残しておいてよ！", "むむむ……パスです……。"]
        }
    },
    {
        id: "isoroku",
        name: "磯禄",
        description: "相撲部出身の巨大な後輩。見た目は怖いが...",
        icon: "🐗",
        logicType: "static",
        depth: 3,
        randomness: 10,
        parameters: { mobility: 5, position: 80, discDiff: 40 },
        dialogues: {
            start: ["オッス！！ 双葉磯禄、参りますッ！！", "先輩！ 胸を貸していただき、感謝しますッ！！", "手加減無用！ 全力でぶつからせてくださいッ！"],
            thinking: ["ぬぅん……押し出すか、引くか……。", "どすこい……どすこい……！", "そこは……罠か！？ いや、正面突破あるのみッ！"],
            generic: ["オッス！ 良い手ですッ！", "重い……ッ！ 先輩の一手、重いっス！", "気合が入りましたッ！", "うおおおッ！ 燃えてきましたァ！"],
            corner: ["カド、頂きましたァッ！！", "不動の構え……ここは誰にも譲りませんッ！", "ごっつぁんですッ！！"],
            advantage: ["先輩！ まだ息が続いていますッ！", "オレの勢い、もう止まりませんよォッ！！", "押し出し！ 押し出しでオレの勝ちが見えてきましたッ！"],
            disadvantage: ["ぬぐゥッ……！ 重い、重すぎるッ……！", "まだだ……まだ土俵は割っていないッ！", "徳俵で……耐えるッ！！"],
            win: ["勝負ありッ！！ ありがとうございましたッ！！", "ッシャアアア！！ ……あ、すんません、熱くなりました。", "先輩の壁は厚かった……だが、今日はオレが押し勝ったッ！"],
            lose: ["参りましたァッ！！！", "ごっつぁんです……完全に、オレの完敗です……。", "先輩！ これからも一生ついていきますッ！ 師匠と呼ばせてくださいッ！"],
            // New Dialogues
            draw: ["痛み分け……ッ！", "素晴らしい一番でしたッ！", "引き分け……この決着、次は必ずッ！"],
            player_pass: ["先輩、手がありませんかッ！", "ここはオレが攻めさせていただきますッ！", "休んでいてくださいッ！"],
            ai_pass: ["ぬぬっ……オレに打つ手なし……！？", "不覚……！ パスさせていただきますッ！", "身動きが取れません……ッ！"]
        }
    },
    {
        id: "yuka",
        name: "優花",
        description: "椎奈の幼馴染。穏やかだが芯が強く、堅実な手を打つ。",
        icon: "🌸",
        logicType: "static",
        depth: 4,
        randomness: 0,
        parameters: { mobility: 50, position: 50, discDiff: -10 },
        dialogues: {
            start: ["お手柔らかにお願いしますね。", "椎奈ちゃん、あまり無茶しちゃだめよ？", "ふふ、静かな一局を楽しみましょう。"],
            thinking: ["急いては事を仕損じると言いますし……", "さて、どう紐解きましょうか。", "焦らず、ゆっくりといきましょう。", "長考させていただきますね。"],
            generic: ["なるほど、そう来ましたか。", "ええ、良い一手だと思います。", "ふふ、お上手ですね。", "風向きが変わりましたね。"],
            corner: ["『果報は寝て待て』……角、いただきます。", "四隅を取れば、盤石ですね。", "隅は静かで落ち着きます。"],
            advantage: ["終わりが見えてきましたね。", "準備は整いました。", "油断大敵、ですよ？"],
            disadvantage: ["おや……雲行きが怪しいですね。", "『前門の虎、後門の狼』……でしょうか。", "まだ、諦めるには早いです。"],
            win: ["勝って兜の緒を締めよ、ですね。", "ふふ、今日は私の運が良かったようです。", "良い勝負でした。ありがとうございます。"],
            lose: ["完敗ですね。お見事です。", "『兵どもが夢の跡』……ふふ、負けちゃいました。", "あらあら……椎奈ちゃんに笑われちゃいますね。"],
            // New Dialogues
            draw: ["痛み分け、ですね。", "平和的解決、ということで。", "この決着はまた次の機会に。"],
            player_pass: ["おや、打つ手がありませんか？", "『待てば海路の日和あり』とも言いますしね。", "では、失礼して……。"],
            ai_pass: ["ここは動けませんね……。", "無理をして傷を広げるよりは、パスを選びます。", "……今は耐え忍ぶ時、ですね。"]
        }
    },
    {
        "id": "sakuya",
        "name": "朔夜",
        "description": "隣の部屋に住む、生活能力皆無のダウナーお姉さん。",
        "icon": "🐈‍⬛",
        "logicType": "dynamic_turn",
        "depth": 4,
        "randomness": 2,
        "parameters": {
            "switchTurn": 20,
            "early": { "mobility": 10, "position": 25, "discDiff": 5 },
            "late": { "mobility": 5, "position": 15, "discDiff": 100 }
        },
        "dialogues": {
            "start": [
                "やあ、少年。……また来たの？",
                "……ん。暇なら相手してよ。負けた方がコンビニ買い出しね。",
                "……あー、ダル。……座れば？"
            ],
            "thinking": [
                "……んー。",
                "……少年、そこ本気？",
                "（プルタブを開ける音）……ぷは。",
                "……ま、適当でいっか。"
            ],
            "generic": [
                "……へぇ、やるじゃん。",
                "ふーん。悪くないね。",
                "……あ、雨降ってきたかも。",
                "……ねえ、お腹空かない？"
            ],
            "corner": [
                "……ほらよ、角。",
                "……ありがと。遠慮なく貰っとく。",
                "……あー、そこ置きたかったんだけど。"
            ],
            "advantage": [
                "……ねえ、もう諦めたら？",
                "……ふふ、少年、顔引きつってるよ。",
                "……これ、私の勝ちでよくない？"
            ],
            "disadvantage": [
                "……は？ マジ？",
                "……可愛げないねぇ、少年は。",
                "……ちょっと、本気出さないでよ。"
            ],
            "win": [
                "……ん、私の勝ち。……なんか奢ってよ。",
                "……ま、こんなもんでしょ。……ねむ。",
                "……弱すぎ。出直してきなよ、少年。"
            ],
            "lose": [
                "……あーあ。負けちゃった。",
                "……参りました。……なんか、ムカつく。",
                "……あー、はいはい。私の負け。……強いね、キミ。"
            ],
            "draw": [
                "……引き分け。……徒労。",
                "……気が合うねぇ。嬉しくないけど。",
                "……もう一回やる？ どうする？"
            ],
            "player_pass": [
                "……パス？ ……ん、了解。",
                "……置けないの？ 不便だねぇ。",
                "……じゃ、遠慮なく。"
            ],
            "ai_pass": [
                "……あ、私置けないわ。",
                "……パスで。……マジか。",
                "……うっそ、詰んだんだけど。"
            ]
        }
    },
    {
        id: "attacker",
        name: "猪突猛進のアキ",
        description: "とにかく石をたくさん取りたがります。後のことは考えていません。",
        icon: "🔥",
        logicType: "static",
        depth: 2,
        randomness: 0,
        parameters: { mobility: 5, position: 10, discDiff: 80 },
        dialogues: {
            start: ["手加減しないよ！", "ガンガン攻めるからね！", "細かいことは気にしない！"],
            thinking: ["どこが一番取れるかな…", "よし、あそこだ！", "最大火力でいくよ！"],
            generic: ["ほらよっと！", "どんどん行くよー！", "次！"],
            corner: ["角？ まあくれてやるよ。", "角よりも、石の数だろ！"],
            advantage: ["見たか！私の石の量を！", "圧倒的じゃないか！", "止まらないねぇ！"],
            disadvantage: ["あれ…数負けてる？", "おかしいな…計算が…", "くそっ、取り返すぞ！"],
            win: ["やったー！私の勝ちだ！", "力こそパワーだね！"],
            lose: ["うそ…なんで負けたの？", "次は絶対勝つからな！"],
            // New Dialogues
            draw: ["ちぇっ、引き分けかよ！", "全部取るつもりだったのに！", "次は白黒はっきりつけてやる！"],
            player_pass: ["おっ、パスか？ 遠慮なく行くぞ！", "休んでる暇はないよ！", "攻め放題だね！"],
            ai_pass: ["なんで置けないんだよ！", "くそっ、パスかよ！", "俺のターンを飛ばすな！"]
        }
    },
    {
        id: "defender",
        name: "鉄壁のマモル",
        description: "角や辺を重視する堅実派。石の数は最後に勝てばいいと思っています。",
        icon: "🛡️",
        logicType: "static",
        depth: 4,
        randomness: 0,
        parameters: { mobility: 30, position: 100, discDiff: 0 },
        dialogues: {
            start: ["堅実にいきます。", "守りこそ最大の攻撃です。", "お手柔らかに。"],
            thinking: ["安全地帯を探しています…", "リスクを計算中…", "そこは罠ですね…"],
            generic: ["ふむ。", "ここは固く。", "配置よし。"],
            corner: ["角は頂きました。", "計画通りです。", "これで盤石ですね。"],
            advantage: ["盤面は制圧しました。", "予定通りです。", "私の領域ですね。"],
            disadvantage: ["む、崩されたか…", "想定外の展開です。", "立て直さなくては…"],
            win: ["論理的な帰結です。", "守り勝ちですね。", "鉄壁は崩せませんよ。"],
            lose: ["私の守りが破られるとは…", "完敗です。お見事。", "ガードの上から叩かれましたね…。"],
            // New Dialogues
            draw: ["互角……ですか。", "拮抗していますね。", "守りきりましたが、攻めきれませんでしたか。"],
            player_pass: ["おや、手詰まりですか。", "無理に打たないのも戦略です。", "では、一手進めさせていただきます。"],
            ai_pass: ["む……包囲されましたか。", "パスです。やられましたね。", "動けません。ルール通りパスします。"]
        }
    },
    {
        id: "hybrid",
        name: "二重人格のジキル",
        description: "序盤は穏やかに守りますが、25手目を超えると急に攻撃的になります。",
        icon: "🎭",
        logicType: "dynamic_turn",
        depth: 3,
        randomness: 0,
        parameters: {
            switchTurn: 25,
            early: { mobility: 20, position: 80, discDiff: -10 },
            late: { mobility: 5, position: 10, discDiff: 100 }
        },
        dialogues: {
            start: ["…お手柔らかに頼むよ。", "争いは好まないんだ。", "静かに対局しましょう。"],
            thinking: ["…（人格が揺らいでいる）…", "ううっ…頭が…", "どっちだ…？"],
            generic: ["はい、ここですね。", "穏やかにいきましょう。", "（ニヤリ…）"],
            corner: ["そこは僕の場所だ…。", "いい場所だねぇ…ククク。", "ありがとうございます。"],
            advantage: ["ヒャハハ！全部俺の石だ！", "今の僕は強いよ？", "壊してやるよ！！"],
            disadvantage: ["僕を怒らせないでくれ…", "ちっ、調子に乗るなよ！", "まだだ…まだ舞える！"],
            win: ["ハハハ！弱い！弱いなぁ！", "これが僕の本性さ。", "当然の結果だ！"],
            lose: ["僕が…負けるなんて…", "覚えてろよ…！", "クソッ！ クソッ！"],
            // New Dialogues
            draw: ["…ふぅ、平和に終わったね。", "ちっ、仕留めそこねたか！", "僕と俺、引き分けってことかい？"],
            player_pass: ["…打てないのかい？", "ギャハハ！ 震えて動けないのか！？", "残念だったねぇ…"],
            ai_pass: ["…動けないや。", "なんだこの盤面は！ 動かせねぇぞ！", "パスだ……僕を追い詰めるなんて。"]
        }
    },
    {
        id: "whimsical",
        name: "気まぐれなネコ",
        description: "基本は守備的ですが、たまに意味不明な手を打ちます。",
        icon: "🐈",
        logicType: "static",
        depth: 2,
        randomness: 3,
        parameters: { mobility: 10, position: 50, discDiff: 10 },
        dialogues: {
            start: ["にゃーん。", "遊んでくれるの？", "眠いにゃ…"],
            thinking: ["毛づくろい中…", "蝶々飛んでるにゃ…", "どれにするにゃ？"],
            generic: ["にゃっ！", "ここ好き。", "えいっ。"],
            corner: ["隅っこ落ち着くにゃ。", "ダンボール箱みたいにゃ。", "もらったにゃ。"],
            advantage: ["調子いいにゃ！", "ごはんまだ？", "すごいにゃ？"],
            disadvantage: ["むぅ…", "飽きてきたにゃ。", "爪研ぐぞ…"],
            win: ["勝ったにゃ！おやつくれ！", "ボク最強にゃ。"],
            lose: ["つまんないにゃ。", "ふんっ（顔を背ける）", "猫パンチ！"],
            // New Dialogues
            draw: ["にゃ？ わけっこ？", "おあいこにゃ。", "もう疲れたにゃー。"],
            player_pass: ["にゃ？ キミの番飛ばし？", "置けないの？ 下手っぴにゃ。", "休憩にゃ？"],
            ai_pass: ["にゃにゃ！？ 置くとこないにゃ！", "パスにゃ…。", "むぎゅ……狭いにゃ……。"]
        }
    },
    // ========== ラスボス ==========
    {
        id: "shiina_nightmare",
        name: "椎奈【nightmare】",
        description: "本気の椎奈。一切の手加減なし。",
        icon: "🐋",
        // 新フォーマット: ai オブジェクトで統合エンジン用パラメータを指定
        ai: {
            tier: "nightmare",
            maxDepth: 12,
            timeLimit: 2500,
            endgameSolverDepth: 12,
            randomness: 0,
            useMoveOrdering: true,
            weights: {
                opening: {
                    mobility: 80,
                    position: 40,
                    discDiff: -20,
                    stability: 20,
                    corner: 150,
                    frontier: 60
                },
                midgame: {
                    mobility: 50,
                    position: 30,
                    discDiff: 0,
                    stability: 50,
                    corner: 120,
                    frontier: 30
                },
                endgame: {
                    mobility: 10,
                    position: 10,
                    discDiff: 200,
                    stability: 100,
                    corner: 80,
                    frontier: 5
                }
            }
        },
        dialogues: {
            start: [
                "ふふ、今日は……手加減、なしでいくからね？",
                "……本気、見せてあげる。",
                "最初で最後の警告。……逃げるなら今だよ？"
            ],
            thinking: [
                "……。",
                "読めてるよ。全部。",
                "ふふ……もう遅いんだけどなぁ。"
            ],
            generic: [
                "……うん、そうくると思った。",
                "ほら、次。",
                "悪くないね。……でも、足りないかな。"
            ],
            corner: [
                "頂き。",
                "……ありがと。欲しかったんだ、ここ。",
                "ふふ、これで詰みだよ？"
            ],
            advantage: [
                "……見える？ キミの負けが。",
                "もう手遅れ。布石は終わってるの。",
                "ふふ……諦めて、くれないかな？"
            ],
            disadvantage: [
                "……へぇ。",
                "……やるじゃん。でも、まだ足りないよ？",
                "……ちょっと、本気出しすぎじゃない？"
            ],
            win: [
                "……ふふ。また、遊ぼうね？",
                "お疲れ様。……楽しかったよ、久しぶりに。",
                "これが、本気の私。……どうだった？"
            ],
            lose: [
                "……嘘。",
                "……キミ、何者？",
                "……認める。今日は、キミの勝ち。……次は、ないけどね？"
            ],
            draw: [
                "……引き分け、か。",
                "ふふ、お互い本気だったね。",
                "……次は、決着つけよ？"
            ],
            player_pass: [
                "……動けないの？ じゃあ、私の番だね。",
                "ふふ、詰んできてるね。",
                "……もう少しだけ、付き合ってね？"
            ],
            ai_pass: [
                "……あれ。私、置けないや。",
                "……珍しいこともあるね。",
                "……ふぅ。ちょっと休憩。"
            ]
        }
    }
];